(function(b){var h=function(a){var f=Math.round(a.current_handle_angle_degrees*a.num/360);return 0<a.options.list.length?a.options.list[f]:f+a.options.min},f=function(a,f,d){a.container.handle.css("left",f.left);a.container.handle.css("top",f.top);360==d&&(d=0);a.current_handle_angle_degrees=d;a.value=h(a);a.container.input_field.val(a.value+a.options.unit_sign);b.isFunction(a.options.angle_changed_callback)&&a.options.angle_changed_callback(h(a),Math.round(a.current_handle_angle_degrees*a.num/360),
d,a.options.unit_sign)},i=function(a,b){var d;d=a.movement.get_radians(b);d=a.movement.get_point(d);f(a,d,b)},g=function(a,h){var d={options:null,root:h,value:null,num:null,current_handle_angle_degrees:null,keys:{ENTER:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},container:null,circle:null,drag:null,movement:null};d.options=b.extend({min:0,max:359,list:[],bg:null,handle_bg:null,input_bg:null,points_bg:null,show_points:!0,current_handle_angle_degrees:0,angle_changed_callback:null,unit_sign:""},a);d.container=
new b.fn.round_slider.container(d.options,d.root,function(c){d.value=0<d.options.list.length?d.options.list[0]:d.options.min;d.num=0<d.options.list.length?d.options.list.length:d.options.max-d.options.min+1;d.circle=new b.fn.round_slider.circle(c.abs_left+c.radius,c.abs_top+c.radius,c.radius);d.movement=new b.fn.round_slider.movement(d.options,d.circle,c.handle_radius);d.drag=new b.fn.round_slider.drag(d.options,c.handle,function(c){var a,c=new b.fn.round_slider.point(c.pageX,c.pageY);a=d.movement.get_angle(c);
c=360*Math.round(d.movement.get_degrees(a)*d.num/360)/d.num;a=d.movement.get_radians(c);c=d.movement.get_point(a);a=d.movement.get_degrees(a);f(d,c,a)});i(d,0);c.input_field.val((0<d.options.list.length?d.options.list[0]:d.options.min)+d.options.unit_sign)});return b.extend(this,d)};g.prototype.jump=function(a){i(this,a)};g.prototype.jump_value=function(a,f){for(var d,c=0;c<a.options.list.length;c++)f===a.options.list[c]&&(d=360*c/a.num,a.jump(a,d))};b.fn.round_slider=function(a){return this.each(function(){return new g(a,
b(this))})}})(jQuery);(function(b){b.fn.round_slider.circle=function(b,f,i){b={center_abs_left:b,center_abs_top:f,radius:i,center_relative_left:null,center_relative_top:null};b.center_relative_left=b.radius/2;b.center_relative_top=b.radius/2;return b}})(jQuery);(function(b){var h=function(c,a){c.handle.css("width",a.width);c.handle.css("height",a.width);c.handle.css("border","0px");c.handle.css("background-image","url("+a.src+")");c.handle.css("position","absolute");c.handle.css("cursor","move");j(c)},f=function(c,a){c.points.css("position","relative");c.points.css("background","url("+a.src+") no-repeat center center");j(c)},i=function(c,a){c.circle.css("width",a.width);c.circle.css("height",a.width);c.circle.css("position","relative");c.circle.css("background-image",
"url("+a.src+")");c.points.css("width",a.width);c.points.css("height",a.width);j(c)},g=function(c,a){var d=c.radius-a.height/2;c.input_field.css("left",c.radius-a.width/2);c.input_field.css("top",d);c.input_field.css("position","absolute");c.input_field.css("width",a.width);c.input_field.css("height",a.height);c.input_field.css("background","transparent url("+a.src+")");c.input_field.css("border","0px");c.input_field.css("padding","0");c.input_field.css("text-align","center");j(c)},a=function(a,d,
f){var e=new Image;b(e).load(function(){b.isFunction(f)&&f(e)});b(e).attr("src",d)},j=function(a){a.handle_img_loaded&&a.circle_img_loaded&&a.input_img_loaded&&a.points_img_loaded&&b.isFunction(a.callback)&&a.callback(a)},d=function(c,d,b){var e={options:c,jq_el:d,callback:b,circle:null,handle:null,input_field:null,abs_left:d.offset().left,abs_top:d.offset().top,radius:0,handle_radius:0,handle_img_loaded:!1,circle_img_loaded:!1,input_img_loaded:!1,points_img_loaded:!1};e.jq_el.html('<div class="round-slider"><div class="round-slider-points"><div class="round-slider-handle"></div><input type="text" class="round-slider-input" value="0"/></div></div>');
e.circle=e.jq_el.find(".round-slider");e.handle=e.jq_el.find(".round-slider-handle");e.input_field=e.jq_el.find(".round-slider-input");e.points=e.jq_el.find(".round-slider-points");a(e,e.options.bg,function(c){e.circle_img_loaded=!0;e.radius=c.width/2;i(e,c);a(e,e.options.input_bg,function(c){e.input_img_loaded=!0;g(e,c);e.options.show_points?a(e,e.options.points_bg,function(c){e.points_img_loaded=!0;f(e,c);a(e,e.options.handle_bg,function(a){e.handle_img_loaded=!0;e.handle_radius=a.width/2;h(e,a)})}):
(e.points_img_loaded=!0,a(e,e.options.handle_bg,function(a){e.handle_img_loaded=!0;e.handle_radius=a.width/2;h(e,a)}))})});return jQuery.extend(this,e)};b.fn.round_slider.container=function(a,f,b){return new d(a,f,b)}})(jQuery);(function(b){b.fn.round_slider.drag=function(h,f,i){var g={callback:i,is_mousedown:!1,is_mousemove:!1};f.mousedown(function(){g.is_mousedown=!0;return!1});b(document).mousemove(function(a){if(g.is_mousedown&&b.isFunction(g.callback))return g.callback(a),!1});b(document).mouseup(function(){return g.is_mousedown=!1});return g}})(jQuery);(function(b){var h=function(f,i,g){return b.extend(this,{options:f,circle:i,weel_radius:g})};h.prototype.get_angle=function(f){var b=0,g=this.circle.center_abs_left-f.left,b=Math.atan((this.circle.center_abs_top-f.top)/g);0<=g&&(b+=Math.PI);return b};h.prototype.get_point=function(f){var h=new b.fn.round_slider.point(0,0),g=this.circle.radius-this.weel_radius;h.left=this.circle.radius*Math.cos(f)+g;h.top=this.circle.radius*Math.sin(f)+g;return h};h.prototype.get_degrees=function(b){b=Math.round(180*
b/Math.PI);360<b&&(b%=360);0>b&&(b=360+b);return b};h.prototype.get_radians=function(b){return b*Math.PI/180};b.fn.round_slider.movement=function(b,i,g){return new h(b,i,g)}})(jQuery);(function(b){b.fn.round_slider.point=function(b,f){return{left:b,top:f}}})(jQuery);