(function(b){var h=function(c){var e=Math.round(c.current_handle_angle_degrees*c.num/360);return 0<c.options.list.length?c.options.list[e]:e+c.options.min},e=function(c,e,a){c.container.handle.css("left",e.left);c.container.handle.css("top",e.top);360==a&&(a=0);c.current_handle_angle_degrees=a;c.value=h(c);c.container.input_field.val(c.value+c.options.unit_sign);b.isFunction(c.options.angle_changed_callback)&&c.options.angle_changed_callback(h(c),Math.round(c.current_handle_angle_degrees*c.num/360),
a,c.options.unit_sign)},f=function(c,b){var a;a=c.movement.get_radians(b);a=c.movement.get_point(a);e(c,a,b)},g=function(c){c.root.on(c.jump_event,function(e,a){f(c,a)});c.root.on(c.jump_value_event,function(e,a){for(var j,b=0;b<c.options.list.length;b++)a===c.options.list[b]&&(j=360*b/c.num,f(c,j))})},i=function(c,h){var a={options:null,root:h,value:null,num:null,current_handle_angle_degrees:null,keys:{ENTER:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},container:null,circle:null,drag:null,movement:null,jump_event:"jump_event",
jump_value_event:"jump_value_event"};a.options=b.extend({min:0,max:359,list:[],bg:null,handle_bg:null,input_bg:null,points_bg:null,show_points:!0,current_handle_angle_degrees:0,angle_changed_callback:null,on_load:null,unit_sign:""},c);a.container=new b.fn.round_slider.container(a.options,a.root,function(c){a.value=0<a.options.list.length?a.options.list[0]:a.options.min;a.num=0<a.options.list.length?a.options.list.length:a.options.max-a.options.min+1;a.circle=new b.fn.round_slider.circle(c.abs_left+
c.radius,c.abs_top+c.radius,c.radius);a.movement=new b.fn.round_slider.movement(a.options,a.circle,c.handle_radius);g(a);a.drag=new b.fn.round_slider.drag(a.options,c.handle,function(c){var d,c=new b.fn.round_slider.point(c.pageX,c.pageY);d=a.movement.get_angle(c);c=360*Math.round(a.movement.get_degrees(d)*a.num/360)/a.num;d=a.movement.get_radians(c);c=a.movement.get_point(d);d=a.movement.get_degrees(d);e(a,c,d)});f(a,0);c.input_field.val((0<a.options.list.length?a.options.list[0]:a.options.min)+
a.options.unit_sign);if(b.isFunction(a.options.on_load))a.options.on_load()});return b.extend(this,a)};b.fn.round_slider=function(c){return this.each(function(){var e;e=b(this);return new i(c,e)})}})(jQuery);(function(b){b.fn.round_slider.circle=function(b,e,f){b={center_abs_left:b,center_abs_top:e,radius:f,center_relative_left:null,center_relative_top:null};b.center_relative_left=b.radius/2;b.center_relative_top=b.radius/2;return b}})(jQuery);(function(b){var h=function(a,b){a.handle.css("width",b.width);a.handle.css("height",b.width);a.handle.css("border","0px");a.handle.css("background-image","url("+b.src+")");a.handle.css("position","absolute");a.handle.css("cursor","move");c(a)},e=function(a,b){a.points.css("position","relative");a.points.css("background","url("+b.src+") no-repeat center center");c(a)},f=function(a,b){a.circle.css("width",b.width);a.circle.css("height",b.width);a.circle.css("position","relative");a.circle.css("background-image",
"url("+b.src+")");a.points.css("width",b.width);a.points.css("height",b.width);c(a)},g=function(a,b){var e=a.radius-b.height/2;a.input_field.css("left",a.radius-b.width/2);a.input_field.css("top",e);a.input_field.css("position","absolute");a.input_field.css("width",b.width);a.input_field.css("height",b.height);a.input_field.css("background","transparent url("+b.src+")");a.input_field.css("border","0px");a.input_field.css("padding","0");a.input_field.css("text-align","center");c(a)},i=function(a,c,
e){var d=new Image;b(d).load(function(){b.isFunction(e)&&e(d)});b(d).attr("src",c)},c=function(a){a.handle_img_loaded&&a.circle_img_loaded&&a.input_img_loaded&&a.points_img_loaded&&b.isFunction(a.callback)&&a.callback(a)},k=function(a,b,c){var d={options:a,jq_el:b,callback:c,circle:null,handle:null,input_field:null,abs_left:b.offset().left,abs_top:b.offset().top,radius:0,handle_radius:0,handle_img_loaded:!1,circle_img_loaded:!1,input_img_loaded:!1,points_img_loaded:!1};d.jq_el.html('<div class="round-slider"><div class="round-slider-points"><div class="round-slider-handle"></div><input type="text" class="round-slider-input" value="0"/></div></div>');
d.circle=d.jq_el.find(".round-slider");d.handle=d.jq_el.find(".round-slider-handle");d.input_field=d.jq_el.find(".round-slider-input");d.points=d.jq_el.find(".round-slider-points");i(d,d.options.bg,function(a){d.circle_img_loaded=!0;d.radius=a.width/2;f(d,a);i(d,d.options.input_bg,function(a){d.input_img_loaded=!0;g(d,a);d.options.show_points?i(d,d.options.points_bg,function(a){d.points_img_loaded=!0;e(d,a);i(d,d.options.handle_bg,function(a){d.handle_img_loaded=!0;d.handle_radius=a.width/2;h(d,a)})}):
(d.points_img_loaded=!0,i(d,d.options.handle_bg,function(a){d.handle_img_loaded=!0;d.handle_radius=a.width/2;h(d,a)}))})});return jQuery.extend(this,d)};b.fn.round_slider.container=function(a,b,c){return new k(a,b,c)}})(jQuery);(function(b){b.fn.round_slider.drag=function(h,e,f){var g={callback:f,is_mousedown:!1,is_mousemove:!1};e.mousedown(function(){g.is_mousedown=!0;return!1});b(document).mousemove(function(e){if(g.is_mousedown&&b.isFunction(g.callback))return g.callback(e),!1});b(document).mouseup(function(){return g.is_mousedown=!1});return g}})(jQuery);(function(b){var h=function(e,f,g){return b.extend(this,{options:e,circle:f,weel_radius:g})};h.prototype.get_angle=function(b){var f=0,g=this.circle.center_abs_left-b.left,f=Math.atan((this.circle.center_abs_top-b.top)/g);0<=g&&(f+=Math.PI);return f};h.prototype.get_point=function(e){var f=new b.fn.round_slider.point(0,0),g=this.circle.radius-this.weel_radius;f.left=this.circle.radius*Math.cos(e)+g;f.top=this.circle.radius*Math.sin(e)+g;return f};h.prototype.get_degrees=function(b){b=Math.round(180*
b/Math.PI);360<b&&(b%=360);0>b&&(b=360+b);return b};h.prototype.get_radians=function(b){return b*Math.PI/180};b.fn.round_slider.movement=function(b,f,g){return new h(b,f,g)}})(jQuery);(function(b){b.fn.round_slider.point=function(b,e){return{left:b,top:e}}})(jQuery);